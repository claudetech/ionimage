!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);n(2),e.exports=r.module("ionimage",["ionic","ngCordova"]).directive("ionimgPicker",n(6)).provider("ionimgUploader",n(10)).factory("ionimgMediaLister",n(11))},function(e,t){e.exports=angular},function(e,t){},,,,function(e,t,n){"use strict";var r=function(e){return{template:n(7)(),restrict:"EA",scope:{selectedImages:"=?"},controller:["$scope","$attrs","ionimgMediaLister",function(t,n,r){var i,o=!1;n.maxImagesCount&&(i=e(n.maxImagesCount)(t.$parent)),n.replaceOnMaxReached&&(o=e(n.replaceOnMaxReached)(t.$parent));var a={thumbnail:{width:n.width&&e(n.imgWidth)(t.$parent)||256,height:n.height&&e(n.imgHeight)(t.$parent)||256},mediaTypes:["image"]};t.selection={},t.canLoadMore=!0,t.selectionStatus={},t.images=[],t.selectedImages=t.selectedImages||[],t.selectedImages.forEach(function(e){t.selection[e.id]=e});var s=function(){var e=t.selectedImages.splice(t.selectedImages.length-1);e[0]&&e[0].id&&delete t.selection[e[0].id]},c=function(e){t.selection[e.id]?(t.$emit("ionimg:unselected",e),delete t.selection[e.id]):(t.selectedImages.length>=i&&o&&s(),!i||t.selectedImages.length<i?(t.selection[e.id]=e,t.$emit("ionimg:selected",e)):t.$emit("ionimg:cannot-select",e))};t.toggleSelection=function(e){c(e),t.selectedImages.splice(0,t.selectedImages.length);for(var n in t.selection)t.selection.hasOwnProperty(n)&&t.selectedImages.push(t.selection[n]);i&&t.selectedImages.length>=i&&t.$emit("ionimg:max-reached")};var l=function(e){for(var n=0;n<t.images.length;n++)if(t.images[n].path===e.path)return;t.images.push(e)};t.loadMore=function(){r.readLibrary(a).then(function(e){for(var n=0;n<e.entries.length;n++)l(e.entries[n]);t.canLoadMore=e.entries.length>0,a=e.nextOptions}.bind(this),function(e){t.$emit("image-picker:error",e)})["finally"](function(){t.$broadcast("scroll.infiniteScrollComplete")})},t.loadMore()}]}};e.exports=["$interpolate",r]},function(e,t,n){n(8);e.exports=function(e){var t=[];return t.push('<div class="_ionimg-picker"><div ng-repeat="image in images" ng-class="{selected: selection[image.id]}" ng-click="toggleSelection(image)" class="image-wrapper"><img ng-src="{{image.thumbnailPath}}" class="image"/></div><ion-infinite-scroll ng-if="canLoadMore" on-infinite="loadMore()" distance="1%"></ion-infinite-scroll></div>'),t.join("")}},function(e,t,n){"use strict";function r(e){return null!=e&&""!==e}function i(e){return(Array.isArray(e)?e.map(i):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(r).join(" ")}function o(e){return s[e]||e}function a(e){var t=String(e).replace(c,o);return t===""+e?e:t}t.merge=function l(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=l(n,e[i]);return n}var o=e["class"],a=t["class"];(o||a)&&(o=o||[],a=a||[],Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]),e["class"]=o.concat(a).filter(r));for(var s in t)"class"!=s&&(e[s]=t[s]);return e},t.joinClasses=i,t.cls=function(e,n){for(var r=[],o=0;o<e.length;o++)n&&n[o]?r.push(t.escape(i([e[o]]))):r.push(i(e[o]));var a=i(r);return a.length?' class="'+a+'"':""},t.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},t.attr=function(e,n,r,i){return"style"===e&&(n=t.style(n)),"boolean"==typeof n||null==n?n?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof n?(-1!==JSON.stringify(n).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),n&&"function"==typeof n.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):r?(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t.escape(n)+'"'):(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n+'"')},t.attrs=function(e,n){var r=[],o=Object.keys(e);if(o.length)for(var a=0;a<o.length;++a){var s=o[a],c=e[s];"class"==s?(c=i(c))&&r.push(" "+s+'="'+c+'"'):r.push(t.attr(s,c,!1,n))}return r.join("")};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},c=/[&<>"]/g;t.escape=a,t.rethrow=function u(e,t,r,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||i))throw e.message+=" on line "+r,e;try{i=i||n(9).readFileSync(t,"utf8")}catch(o){u(e,null,r)}var a=3,s=i.split("\n"),c=Math.max(r-a,0),l=Math.min(s.length,r+a),a=s.slice(c,l).map(function(e,t){var n=t+c+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+r+"\n"+a+"\n\n"+e.message,e},t.DebugItem=function(e,t){this.lineno=e,this.filename=t}},function(e,t){},function(e,t){"use strict";var n="http://localhost:3000/upload",r=function(e,t){if("function"==typeof e.map)return e.map(t);var n={};return Object.keys(e).forEach(function(r){n[r]=t(e[r],r)}),n},i=function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=e[n]);return t},o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},a=function(){var e=n;this.setEndpoint=function(t){e=t};var t=function(e){return e=e||{},e.http=e.http||{},e.trustHosts=e.trustHosts||!1,e.http.query&&"string"!=typeof e.http.query&&(e.http.query=o(e.http.query)),e},a=function(n,o){var a={},s=function(e){return n.all(r(e,function(e){return e.then?e.then(function(e){return{state:"fulfilled",value:e}},function(e){return{state:"rejected",reason:e}}):{state:"fulfilled",value:e}}))},c=function(e,t,n){return function(r){a[t]=r,r.filePath=t,n.parseResponse&&(r.response=JSON.parse(r.response)),n.processResult&&(r=n.processResult(r)),e.resolve(r)}},l=function(e,t,n){return function(r){t.files[n]||(t.totalSize+=r.total,t.currentCount++),t.files[n]=r.loaded;var o={loaded:i(t.files),total:t.totalSize,currentCount:t.currentCount,totalCount:t.totalCount};e.notify(o)}},u=function(e,t,n){n.files[t]=a[t].bytesSent,n.totalSize+=a[t].bytesSent,n.currentCount++,e.resolve(a[t])},f=function(t,r,i){var s=function(n,a){var s=i.endpoint||e;i.http.query&&(s+=(s.indexOf("?")>-1?"&":"?")+i.http.query),o.upload(s,a,i.http,i.trustHosts).then(c(n,a,i),n.reject,l(t,r,a))};return function(e){var t=e.path||e,o=n.defer();return a[t]&&!i.force?u(o,t,r):s(o,t),o.promise}};return{upload:function(e,r){var i=n.defer();r=t(r);var o={files:{},totalSize:0,currentCount:0,totalCount:e.length};return s(e.map(f(i,o,r))).then(i.resolve,i.reject),i.promise}}};this.$get=["$q","$cordovaFileTransfer",a]};e.exports=a},function(e,t){"use strict";function n(e,t){return{readLibrary:function(n){n=n||{};var r=t.defer();return e.mediaLister.readLibrary(n,r.resolve,r.reject),r.promise}}}e.exports=["$window","$q",n]}]);